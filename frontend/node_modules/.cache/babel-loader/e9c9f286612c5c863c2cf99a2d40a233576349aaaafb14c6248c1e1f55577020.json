{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\OneDrive\\\\Desktop\\\\Chatbot Ca2\\\\frontend\\\\src\\\\components\\\\Chatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BOT = \"Bot\";\nconst USER = \"You\";\nexport default function Chatbot() {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: BOT,\n    text: \"Welcome to the Museum Booking Bot! Type 'book' to start.\"\n  }]);\n  const [input, setInput] = useState(\"\");\n  const [context, setContext] = useState({\n    step: 0,\n    data: {}\n  });\n  const endRef = useRef(null);\n  useEffect(() => {\n    var _endRef$current;\n    (_endRef$current = endRef.current) === null || _endRef$current === void 0 ? void 0 : _endRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const pushBot = text => setMessages(prev => [...prev, {\n    sender: BOT,\n    text\n  }]);\n  const pushUser = text => setMessages(prev => [...prev, {\n    sender: USER,\n    text\n  }]);\n  const reset = () => setContext({\n    step: 0,\n    data: {}\n  });\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const text = input.trim();\n    pushUser(text);\n    setInput(\"\");\n\n    // State machine for museum booking flow\n    if (context.step === 0) {\n      if (text.toLowerCase().includes(\"book\")) {\n        pushBot(\"Great! What type of ticket? (e.g., General Admission, Special Exhibition)\");\n        setContext({\n          step: 1,\n          data: {}\n        });\n      } else {\n        pushBot(\"Type 'book' to start a new ticket booking or ask for help.\");\n      }\n      return;\n    }\n    const newData = {\n      ...context.data\n    };\n    if (context.step === 1) {\n      newData.ticketType = text;\n      pushBot(\"Which exhibition would you like to see? (e.g., Main Collection, Modern Art)\");\n      setContext({\n        step: 2,\n        data: newData\n      });\n      return;\n    }\n    if (context.step === 2) {\n      newData.exhibition = text;\n      pushBot(\"Enter the date of your visit (YYYY-MM-DD)\");\n      setContext({\n        step: 3,\n        data: newData\n      });\n      return;\n    }\n    if (context.step === 3) {\n      newData.date = text;\n      pushBot(\"How many visitors?\");\n      setContext({\n        step: 4,\n        data: newData\n      });\n      return;\n    }\n    if (context.step === 4) {\n      const v = parseInt(text) || 1;\n      newData.visitors = v;\n      pushBot(\"Which category? (e.g., Adult, Child, Student)\");\n      setContext({\n        step: 5,\n        data: newData\n      });\n      return;\n    }\n    if (context.step === 5) {\n      newData.category = text;\n      // Simple price calculation\n      const basePrice = newData.ticketType.toLowerCase().includes(\"special\") ? 25 : 15;\n      newData.price = basePrice * (newData.visitors || 1);\n      pushBot(`Booking summary:\\nTicket: ${newData.ticketType}\\nExhibition: ${newData.exhibition}\\nDate: ${newData.date}\\nVisitors: ${newData.visitors}\\nCategory: ${newData.category}\\nPrice: $${newData.price}\\n\\nType 'confirm' to pay & book.`);\n      setContext({\n        step: 6,\n        data: newData\n      });\n      return;\n    }\n    if (context.step === 6) {\n      if (text.toLowerCase() === \"confirm\") {\n        try {\n          // Step 1: Create a Razorpay order\n          const orderRes = await axios.post(\"http://localhost:5000/api/payment/orders\", {\n            amount: context.data.price,\n            receipt: `receipt_ticket_${Date.now()}`\n          });\n          const order = orderRes.data;\n\n          // Step 2: Open Razorpay Checkout\n          const options = {\n            key: \"rzp_test_N6pQfVzZ6XbY3j\",\n            // Replace with your key ID\n            amount: order.amount,\n            currency: order.currency,\n            name: \"Museum Ticket Booking\",\n            description: \"Ticket Payment\",\n            order_id: order.id,\n            handler: async function (response) {\n              // Step 3: Verify payment and book ticket\n              try {\n                await axios.post(\"http://localhost:5000/api/payment/verify\", response);\n                const payload = {\n                  name: \"Guest\",\n                  ...context.data\n                };\n                await axios.post(\"http://localhost:5000/api/tickets\", payload);\n                pushBot(\"Payment successful! Ticket booked. Check the list on the right.\");\n                reset();\n              } catch (err) {\n                console.error(err);\n                pushBot(\"Payment verification failed. Please contact support.\");\n              }\n            },\n            prefill: {\n              name: \"Guest User\",\n              email: \"guest@example.com\",\n              contact: \"9999999999\"\n            },\n            theme: {\n              color: \"#3399cc\"\n            }\n          };\n          const rzp = new window.Razorpay(options);\n          rzp.open();\n        } catch (err) {\n          console.error(err);\n          pushBot(\"Could not initiate payment. Please try again later.\");\n        }\n      } else {\n        pushBot(\"Type 'confirm' to finalize booking or 'cancel' to abort.\");\n      }\n      return;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-xl shadow-lg border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-bold mb-3\",\n      children: \"\\uD83C\\uDFDB\\uFE0F Museum Chatbot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96 overflow-y-auto p-3 mb-3 border rounded\",\n      style: {\n        background: \"#f9fafb\"\n      },\n      children: [messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-2 ${m.sender === USER ? 'text-right' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `inline-block p-2 rounded ${m.sender === USER ? 'bg-green-100' : 'bg-gray-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"block text-xs\",\n            children: m.sender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              whiteSpace: 'pre-wrap'\n            },\n            children: m.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: endRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 p-2 border rounded\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === 'Enter' && handleSend()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n        onClick: handleSend,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s(Chatbot, \"SdUZJmHRWbEL3EOGTfP6uAVXF8M=\");\n_c = Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","BOT","USER","Chatbot","_s","messages","setMessages","sender","text","input","setInput","context","setContext","step","data","endRef","_endRef$current","current","scrollIntoView","behavior","pushBot","prev","pushUser","reset","handleSend","trim","toLowerCase","includes","newData","ticketType","exhibition","date","v","parseInt","visitors","category","basePrice","price","orderRes","post","amount","receipt","Date","now","order","options","key","currency","name","description","order_id","id","handler","response","payload","err","console","error","prefill","email","contact","theme","color","rzp","window","Razorpay","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","background","map","m","i","whiteSpace","ref","value","onChange","e","target","onKeyDown","onClick","_c","$RefreshReg$"],"sources":["C:/Users/singh/OneDrive/Desktop/Chatbot Ca2/frontend/src/components/Chatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst BOT = \"Bot\";\r\nconst USER = \"You\";\r\n\r\nexport default function Chatbot() {\r\n  const [messages, setMessages] = useState([\r\n    { sender: BOT, text: \"Welcome to the Museum Booking Bot! Type 'book' to start.\" }\r\n  ]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [context, setContext] = useState({ step: 0, data: {} });\r\n  const endRef = useRef(null);\r\n\r\n  useEffect(() => { endRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [messages]);\r\n\r\n  const pushBot = (text) => setMessages(prev => [...prev, { sender: BOT, text }]);\r\n  const pushUser = (text) => setMessages(prev => [...prev, { sender: USER, text }]);\r\n\r\n  const reset = () => setContext({ step: 0, data: {} });\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n    const text = input.trim();\r\n    pushUser(text);\r\n    setInput(\"\");\r\n\r\n    // State machine for museum booking flow\r\n    if (context.step === 0) {\r\n      if (text.toLowerCase().includes(\"book\")) {\r\n        pushBot(\"Great! What type of ticket? (e.g., General Admission, Special Exhibition)\");\r\n        setContext({ step: 1, data: {} });\r\n      } else {\r\n        pushBot(\"Type 'book' to start a new ticket booking or ask for help.\");\r\n      }\r\n      return;\r\n    }\r\n\r\n    const newData = { ...context.data };\r\n\r\n    if (context.step === 1) {\r\n      newData.ticketType = text;\r\n      pushBot(\"Which exhibition would you like to see? (e.g., Main Collection, Modern Art)\");\r\n      setContext({ step: 2, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 2) {\r\n      newData.exhibition = text;\r\n      pushBot(\"Enter the date of your visit (YYYY-MM-DD)\");\r\n      setContext({ step: 3, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 3) {\r\n      newData.date = text;\r\n      pushBot(\"How many visitors?\");\r\n      setContext({ step: 4, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 4) {\r\n      const v = parseInt(text) || 1;\r\n      newData.visitors = v;\r\n      pushBot(\"Which category? (e.g., Adult, Child, Student)\");\r\n      setContext({ step: 5, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 5) {\r\n      newData.category = text;\r\n      // Simple price calculation\r\n      const basePrice = newData.ticketType.toLowerCase().includes(\"special\") ? 25 : 15;\r\n      newData.price = basePrice * (newData.visitors || 1);\r\n\r\n      pushBot(`Booking summary:\\nTicket: ${newData.ticketType}\\nExhibition: ${newData.exhibition}\\nDate: ${newData.date}\\nVisitors: ${newData.visitors}\\nCategory: ${newData.category}\\nPrice: $${newData.price}\\n\\nType 'confirm' to pay & book.`);\r\n      setContext({ step: 6, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 6) {\r\n      if (text.toLowerCase() === \"confirm\") {\r\n        try {\r\n          // Step 1: Create a Razorpay order\r\n          const orderRes = await axios.post(\"http://localhost:5000/api/payment/orders\", {\r\n            amount: context.data.price,\r\n            receipt: `receipt_ticket_${Date.now()}`,\r\n          });\r\n\r\n          const order = orderRes.data;\r\n\r\n          // Step 2: Open Razorpay Checkout\r\n          const options = {\r\n            key: \"rzp_test_N6pQfVzZ6XbY3j\", // Replace with your key ID\r\n            amount: order.amount,\r\n            currency: order.currency,\r\n            name: \"Museum Ticket Booking\",\r\n            description: \"Ticket Payment\",\r\n            order_id: order.id,\r\n            handler: async function (response) {\r\n              // Step 3: Verify payment and book ticket\r\n              try {\r\n                await axios.post(\"http://localhost:5000/api/payment/verify\", response);\r\n                const payload = { name: \"Guest\", ...context.data };\r\n                await axios.post(\"http://localhost:5000/api/tickets\", payload);\r\n                pushBot(\"Payment successful! Ticket booked. Check the list on the right.\");\r\n                reset();\r\n              } catch (err) {\r\n                console.error(err);\r\n                pushBot(\"Payment verification failed. Please contact support.\");\r\n              }\r\n            },\r\n            prefill: {\r\n              name: \"Guest User\",\r\n              email: \"guest@example.com\",\r\n              contact: \"9999999999\",\r\n            },\r\n            theme: {\r\n              color: \"#3399cc\",\r\n            },\r\n          };\r\n\r\n          const rzp = new window.Razorpay(options);\r\n          rzp.open();\r\n        } catch (err) {\r\n          console.error(err);\r\n          pushBot(\"Could not initiate payment. Please try again later.\");\r\n        }\r\n      } else {\r\n        pushBot(\"Type 'confirm' to finalize booking or 'cancel' to abort.\");\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\">\r\n      <h3 className=\"text-lg font-bold mb-3\">üèõÔ∏è Museum Chatbot</h3>\r\n      <div className=\"h-96 overflow-y-auto p-3 mb-3 border rounded\" style={{ background: \"#f9fafb\" }}>\r\n        {messages.map((m, i) => (\r\n          <div key={i} className={`mb-2 ${m.sender === USER ? 'text-right' : ''}`}>\r\n            <div className={`inline-block p-2 rounded ${m.sender === USER ? 'bg-green-100' : 'bg-gray-100'}`}>\r\n              <strong className=\"block text-xs\">{m.sender}</strong>\r\n              <div style={{ whiteSpace: 'pre-wrap' }}>{m.text}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div ref={endRef} />\r\n      </div>\r\n\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          className=\"flex-1 p-2 border rounded\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n        />\r\n        <button className=\"px-4 py-2 bg-blue-600 text-white rounded\" onClick={handleSend}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}