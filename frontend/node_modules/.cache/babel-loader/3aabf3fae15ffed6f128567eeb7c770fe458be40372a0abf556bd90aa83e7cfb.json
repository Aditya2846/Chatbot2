{"ast":null,"code":"import _objectSpread from\"C:/Users/singh/OneDrive/Documents/Chatbot Ca2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from\"react\";import axios from\"axios\";import PaymentModal from\"./PaymentModal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BOT=\"Bot\";const USER=\"You\";export default function Chatbot(){const[messages,setMessages]=useState([{sender:BOT,text:\"Welcome to the Museum Booking Bot! Ask me anything about art or type 'book' to get tickets.\"}]);const[input,setInput]=useState(\"\");const[context,setContext]=useState({step:0,data:{}});const[isTyping,setIsTyping]=useState(false);const[showPayment,setShowPayment]=useState(false);const[currentBooking,setCurrentBooking]=useState(null);const endRef=useRef(null);useEffect(()=>{var _endRef$current;(_endRef$current=endRef.current)===null||_endRef$current===void 0?void 0:_endRef$current.scrollIntoView({behavior:\"smooth\"});},[messages]);const pushBot=text=>setMessages(prev=>[...prev,{sender:BOT,text}]);const pushUser=text=>setMessages(prev=>[...prev,{sender:USER,text}]);const reset=()=>{setContext({step:0,data:{}});setCurrentBooking(null);};const handleSend=async()=>{if(!input.trim())return;const text=input.trim();pushUser(text);setInput(\"\");// --- Booking State Machine ---\nif(context.step>0||text.toLowerCase().includes(\"book\")){handleBookingFlow(text);return;}// --- AI Chat Flow ---\nsetIsTyping(true);try{const res=await axios.post(\"http://localhost:5000/api/chat\",{message:text});pushBot(res.data.reply);}catch(err){console.error(err);pushBot(\"I'm having trouble connecting to the museum archives. Please try again.\");}finally{setIsTyping(false);}};const handleBookingFlow=text=>{const newData=_objectSpread({},context.data);if(context.step===0){// Start booking\npushBot(\"Great! What type of ticket? (e.g., General Admission, Special Exhibition)\");setContext({step:1,data:{}});return;}if(context.step===1){newData.ticketType=text;pushBot(\"Which exhibition would you like to see? (e.g., Main Collection, Modern Art)\");setContext({step:2,data:newData});return;}if(context.step===2){newData.exhibition=text;const today=new Date().toISOString().split('T')[0];pushBot(\"Enter the date of your visit (YYYY-MM-DD). Today is \".concat(today));setContext({step:3,data:newData});return;}if(context.step===3){newData.date=text;pushBot(\"How many visitors?\");setContext({step:4,data:newData});return;}if(context.step===4){const v=parseInt(text)||1;newData.visitors=v;pushBot(\"Which category? (e.g., Adult, Child, Student)\");setContext({step:5,data:newData});return;}if(context.step===5){newData.category=text;pushBot(\"Please enter your email address to receive the ticket.\");setContext({step:5.5,data:newData});return;}if(context.step===5.5){newData.email=text;const basePrice=newData.ticketType.toLowerCase().includes(\"special\")?25:15;newData.price=basePrice*(newData.visitors||1);pushBot(\"Booking summary:\\nTicket: \".concat(newData.ticketType,\"\\nExhibition: \").concat(newData.exhibition,\"\\nDate: \").concat(newData.date,\"\\nVisitors: \").concat(newData.visitors,\"\\nCategory: \").concat(newData.category,\"\\nEmail: \").concat(newData.email,\"\\nTotal Price: $\").concat(newData.price,\"\\n\\nType 'confirm' to proceed to payment.\"));setContext({step:6,data:newData});return;}if(context.step===6){if(text.toLowerCase()===\"confirm\"){setCurrentBooking(newData);setShowPayment(true);pushBot(\"Opening secure payment gateway...\");}else if(text.toLowerCase()===\"cancel\"){pushBot(\"Booking cancelled.\");reset();}else{pushBot(\"Type 'confirm' to pay or 'cancel' to abort.\");}return;}};const onPaymentSuccess=async()=>{try{const payload=_objectSpread(_objectSpread({},currentBooking),{},{paymentStatus:'Paid'});await axios.post(\"http://localhost:5000/api/tickets\",payload);pushBot(\"Payment Successful! âœ… Your ticket has been booked and emailed to you.\");reset();}catch(err){console.error(err);pushBot(\"Payment succeeded but booking failed to save. Please contact support.\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col h-[600px] w-full max-w-lg mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 text-white flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-xl\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold\",children:\"Museum AI Assistant\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-100 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"}),\" Online\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\",children:[messages.map((m,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(m.sender===USER?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[80%] p-3 rounded-2xl shadow-sm \".concat(m.sender===USER?'bg-blue-600 text-white rounded-br-none':'bg-white text-gray-800 border border-gray-100 rounded-bl-none'),children:[/*#__PURE__*/_jsx(\"strong\",{className:\"block text-xs mb-1 opacity-70 \".concat(m.sender===USER?'text-blue-100':'text-gray-500'),children:m.sender}),/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap text-sm leading-relaxed\",children:m.text})]})},i)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white text-gray-500 p-3 rounded-2xl rounded-bl-none border border-gray-100 shadow-sm text-sm italic\",children:\"typing...\"})}),/*#__PURE__*/_jsx(\"div\",{ref:endRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-white border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm\",value:input,onChange:e=>setInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleSend(),placeholder:\"Ask about art or type 'book'...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-lg hover:shadow-blue-600/30 transition-all disabled:opacity-50\",onClick:handleSend,disabled:!input.trim()||isTyping,children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 transform rotate-90\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"})})})]})})]}),/*#__PURE__*/_jsx(PaymentModal,{isOpen:showPayment,onClose:()=>setShowPayment(false),amount:(currentBooking===null||currentBooking===void 0?void 0:currentBooking.price)||0,onSuccess:onPaymentSuccess})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","PaymentModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BOT","USER","Chatbot","messages","setMessages","sender","text","input","setInput","context","setContext","step","data","isTyping","setIsTyping","showPayment","setShowPayment","currentBooking","setCurrentBooking","endRef","_endRef$current","current","scrollIntoView","behavior","pushBot","prev","pushUser","reset","handleSend","trim","toLowerCase","includes","handleBookingFlow","res","post","message","reply","err","console","error","newData","_objectSpread","ticketType","exhibition","today","Date","toISOString","split","concat","date","v","parseInt","visitors","category","email","basePrice","price","onPaymentSuccess","payload","paymentStatus","children","className","map","m","i","ref","value","onChange","e","target","onKeyDown","key","placeholder","onClick","disabled","fill","viewBox","d","isOpen","onClose","amount","onSuccess"],"sources":["C:/Users/singh/OneDrive/Documents/Chatbot Ca2/frontend/src/components/Chatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport PaymentModal from \"./PaymentModal\";\r\n\r\nconst BOT = \"Bot\";\r\nconst USER = \"You\";\r\n\r\nexport default function Chatbot() {\r\n  const [messages, setMessages] = useState([\r\n    { sender: BOT, text: \"Welcome to the Museum Booking Bot! Ask me anything about art or type 'book' to get tickets.\" }\r\n  ]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [context, setContext] = useState({ step: 0, data: {} });\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [showPayment, setShowPayment] = useState(false);\r\n  const [currentBooking, setCurrentBooking] = useState(null);\r\n\r\n  const endRef = useRef(null);\r\n\r\n  useEffect(() => { endRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [messages]);\r\n\r\n  const pushBot = (text) => setMessages(prev => [...prev, { sender: BOT, text }]);\r\n  const pushUser = (text) => setMessages(prev => [...prev, { sender: USER, text }]);\r\n\r\n  const reset = () => {\r\n    setContext({ step: 0, data: {} });\r\n    setCurrentBooking(null);\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n    const text = input.trim();\r\n    pushUser(text);\r\n    setInput(\"\");\r\n\r\n    // --- Booking State Machine ---\r\n    if (context.step > 0 || text.toLowerCase().includes(\"book\")) {\r\n      handleBookingFlow(text);\r\n      return;\r\n    }\r\n\r\n    // --- AI Chat Flow ---\r\n    setIsTyping(true);\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/api/chat\", { message: text });\r\n      pushBot(res.data.reply);\r\n    } catch (err) {\r\n      console.error(err);\r\n      pushBot(\"I'm having trouble connecting to the museum archives. Please try again.\");\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleBookingFlow = (text) => {\r\n    const newData = { ...context.data };\r\n\r\n    if (context.step === 0) {\r\n      // Start booking\r\n      pushBot(\"Great! What type of ticket? (e.g., General Admission, Special Exhibition)\");\r\n      setContext({ step: 1, data: {} });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 1) {\r\n      newData.ticketType = text;\r\n      pushBot(\"Which exhibition would you like to see? (e.g., Main Collection, Modern Art)\");\r\n      setContext({ step: 2, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 2) {\r\n      newData.exhibition = text;\r\n      const today = new Date().toISOString().split('T')[0];\r\n      pushBot(`Enter the date of your visit (YYYY-MM-DD). Today is ${today}`);\r\n      setContext({ step: 3, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 3) {\r\n      newData.date = text;\r\n      pushBot(\"How many visitors?\");\r\n      setContext({ step: 4, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 4) {\r\n      const v = parseInt(text) || 1;\r\n      newData.visitors = v;\r\n      pushBot(\"Which category? (e.g., Adult, Child, Student)\");\r\n      setContext({ step: 5, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 5) {\r\n      newData.category = text;\r\n      pushBot(\"Please enter your email address to receive the ticket.\");\r\n      setContext({ step: 5.5, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 5.5) {\r\n      newData.email = text;\r\n\r\n      const basePrice = newData.ticketType.toLowerCase().includes(\"special\") ? 25 : 15;\r\n      newData.price = basePrice * (newData.visitors || 1);\r\n\r\n      pushBot(`Booking summary:\\nTicket: ${newData.ticketType}\\nExhibition: ${newData.exhibition}\\nDate: ${newData.date}\\nVisitors: ${newData.visitors}\\nCategory: ${newData.category}\\nEmail: ${newData.email}\\nTotal Price: $${newData.price}\\n\\nType 'confirm' to proceed to payment.`);\r\n\r\n      setContext({ step: 6, data: newData });\r\n      return;\r\n    }\r\n\r\n    if (context.step === 6) {\r\n      if (text.toLowerCase() === \"confirm\") {\r\n        setCurrentBooking(newData);\r\n        setShowPayment(true);\r\n        pushBot(\"Opening secure payment gateway...\");\r\n      } else if (text.toLowerCase() === \"cancel\") {\r\n        pushBot(\"Booking cancelled.\");\r\n        reset();\r\n      } else {\r\n        pushBot(\"Type 'confirm' to pay or 'cancel' to abort.\");\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  const onPaymentSuccess = async () => {\r\n    try {\r\n      const payload = { ...currentBooking, paymentStatus: 'Paid' };\r\n      await axios.post(\"http://localhost:5000/api/tickets\", payload);\r\n      pushBot(\"Payment Successful! âœ… Your ticket has been booked and emailed to you.\");\r\n      reset();\r\n    } catch (err) {\r\n      console.error(err);\r\n      pushBot(\"Payment succeeded but booking failed to save. Please contact support.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col h-[600px] w-full max-w-lg mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 text-white flex justify-between items-center\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-xl\">ðŸ¤–</div>\r\n            <div>\r\n              <h3 className=\"font-bold\">Museum AI Assistant</h3>\r\n              <p className=\"text-xs text-blue-100 flex items-center gap-1\">\r\n                <span className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></span> Online\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\r\n          {messages.map((m, i) => (\r\n            <div key={i} className={`flex ${m.sender === USER ? 'justify-end' : 'justify-start'}`}>\r\n              <div\r\n                className={`max-w-[80%] p-3 rounded-2xl shadow-sm ${m.sender === USER\r\n                  ? 'bg-blue-600 text-white rounded-br-none'\r\n                  : 'bg-white text-gray-800 border border-gray-100 rounded-bl-none'\r\n                  }`}\r\n              >\r\n                <strong className={`block text-xs mb-1 opacity-70 ${m.sender === USER ? 'text-blue-100' : 'text-gray-500'}`}>\r\n                  {m.sender}\r\n                </strong>\r\n                <div className=\"whitespace-pre-wrap text-sm leading-relaxed\">{m.text}</div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {isTyping && (\r\n            <div className=\"flex justify-start\">\r\n              <div className=\"bg-white text-gray-500 p-3 rounded-2xl rounded-bl-none border border-gray-100 shadow-sm text-sm italic\">\r\n                typing...\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div ref={endRef} />\r\n        </div>\r\n\r\n        {/* Input */}\r\n        <div className=\"p-4 bg-white border-t border-gray-100\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              className=\"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n              placeholder=\"Ask about art or type 'book'...\"\r\n            />\r\n            <button\r\n              className=\"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-lg hover:shadow-blue-600/30 transition-all disabled:opacity-50\"\r\n              onClick={handleSend}\r\n              disabled={!input.trim() || isTyping}\r\n            >\r\n              <svg className=\"w-5 h-5 transform rotate-90\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <PaymentModal\r\n        isOpen={showPayment}\r\n        onClose={() => setShowPayment(false)}\r\n        amount={currentBooking?.price || 0}\r\n        onSuccess={onPaymentSuccess}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}